(this.webpackJsonpbusysquirrels=this.webpackJsonpbusysquirrels||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){},130:function(e,t){},132:function(e,t){},142:function(e,t){},144:function(e,t){},171:function(e,t){},173:function(e,t){},174:function(e,t){},179:function(e,t){},181:function(e,t){},187:function(e,t){},189:function(e,t){},208:function(e,t){},220:function(e,t){},223:function(e,t){},229:function(e,t,n){"use strict";n.r(t);var s=n(7),a=n.n(s),r=n(118),c=n.n(r),o=(n(123),n(13)),i=(n(124),n(31)),u=new i.c({UserPoolId:"us-east-2_erVttDqS9",ClientId:"7cebvejfg7vji6np6faftigfcg"}),l=n(3);var d=function(e){var t=e.setState,n=Object(s.useState)(""),a=Object(o.a)(n,2),r=a[0],c=a[1],i=Object(s.useState)(""),d=Object(o.a)(i,2),m=d[0],g=d[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{className:"form-container",id:"cred-form",onSubmit:function(e){if(e.preventDefault(),e.target.elements[1].value!==e.target.elements[2].value)return e.target.elements[1].style.border="2px dashed red",e.target.elements[2].style.border="2px dashed red",void alert("Passwords don't match");u.signUp(r,m,[],null,(function(n,s){if(n){switch(console.log(n),n.name){case"InvalidPasswordException":e.target.elements[1].style.border="2px dashed red",e.target.elements[2].style.border="2px dashed red";break;case"UsernameExistsException":e.target.elements[0].style.border="2px dashed red"}alert(n.message)}else t({status:"login"}),alert("Account created! Confirm your email please."),console.log(s)}))},children:[Object(l.jsx)("input",{className:"form-item",id:"email",type:"email",placeholder:"Email *",value:r,onChange:function(e){return c(e.target.value)},required:!0}),Object(l.jsx)("input",{className:"form-item",id:"password1",type:"password",placeholder:"Password *",onChange:function(e){return g(e.target.value)},required:!0}),Object(l.jsx)("input",{className:"form-item",id:"password2",type:"password",placeholder:"Re-enter Password *",required:!0})]})})};var m=function(e){var t=e.setState,n=Object(s.useState)(""),a=Object(o.a)(n,2),r=a[0],c=a[1],d=Object(s.useState)(""),m=Object(o.a)(d,2),g=m[0],f=m[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{className:"form-container",id:"cred-form",onSubmit:function(e){e.preventDefault();var n=new i.b({Username:r,Pool:u}),s=new i.a({Username:r,Password:g});n.authenticateUser(s,{onSuccess:function(e){!function(e){console.log("onSuccess:",e),t({status:"loggedin",user:n})}(e)},onFailure:function(t){!function(t){switch(t.name){case"UserNotConfirmedException":alert("Email has not been confirmed yet.");break;default:e.target.elements[0].style.border="2px dashed red",e.target.elements[1].style.border="2px dashed red",alert(t.message)}console.log(t)}(t)},newPassRequired:function(e){!function(e){console.log("newPassRequired:",e)}(e)}})},children:[Object(l.jsx)("input",{className:"form-item",id:"email",type:"email",placeholder:"Email *",value:r,onChange:function(e){return c(e.target.value)},required:!0}),Object(l.jsx)("input",{className:"form-item",id:"password1",type:"password",placeholder:"Password *",value:g,onChange:function(e){return f(e.target.value)},required:!0})]})})};var g=function(){var e=Object(s.useState)({status:"signup",user:null}),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(s.useEffect)((function(){var e=u.getCurrentUser();e&&a({status:"loggedin",user:e})}),[]),Object(l.jsxs)("div",{className:"App",children:["loggedin"===n.status&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Logged in"}),Object(l.jsx)("button",{className:"logout-btn btn",onClick:function(){var e=u.getCurrentUser();e&&(e.signOut(),a({status:"login",user:null}))},children:"Logout"})]})," ",("signup"===n.status||"login"===n.status)&&Object(l.jsxs)("div",{className:"login-container",children:[Object(l.jsx)("h1",{className:"header",children:"signup"===n.status?"Sign Up":"Log in"}),"signup"===n.status&&Object(l.jsx)(d,{setState:a})," ","login"===n.status&&Object(l.jsx)(m,{setState:a}),Object(l.jsxs)("p",{className:"switch",onClick:function(){"signup"===n.status?a({status:"login"}):a({status:"signup"})},children:["signup"===n.status?"Have an account? Log in":"Create account","."]}),Object(l.jsx)("button",{className:"submit-btn btn",form:"cred-form",type:"submit",children:"signup"===n.status?"SIGN UP":"LOGIN"})]})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,230)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),f()}},[[229,1,2]]]);
//# sourceMappingURL=main.ef6d81c9.chunk.js.map